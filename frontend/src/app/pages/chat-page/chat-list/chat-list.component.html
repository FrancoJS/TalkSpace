<section class="">
  <div class="flex justify-between items-center p-2 mx-2 mb-2">
    <p class="text-2xl font-bold">Chats</p>
    <button
      class="rounded-4xl hover:bg-cyan-800 cursor-pointer transition-all duration-100 ease-in-out outline-0"
      (click)="openSearchDialog()"
    >
      <img class="p-3.5" src="/assets/icons/add-icon.svg" alt="add-icon" />
    </button>
  </div>
  @for(privateChat of privateChats; track privateChat.chatId) {
  <div
    class="px-2 py-3 mx-2 mb-2 rounded-md hover:bg-cyan-700 hover:shadow-md cursor-pointer transition-all duration-100 ease-in-out"
    [ngClass]="{ 'bg-cyan-700 shadow-md': activeChatId === privateChat.chatId }"
    (click)="activeChatId !== privateChat.chatId ? openChat(privateChat.chatId, privateChat.user) : null"
  >
    <div>
      <p>
        {{ privateChat.user.username }} <span>({{ privateChat.user.email }})</span>
      </p>
    </div>
  </div>
  }
</section>

@if (isModalOpen) {
<app-search-dialog></app-search-dialog>
}
