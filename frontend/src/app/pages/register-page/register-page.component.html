<div class="flex h-screen flex-col items-center justify-center bg-linear-to-br from-cyan-900">
  <app-home-nav-bar class="fixed"></app-home-nav-bar>
  <div class="w-sm rounded-lg border-1 border-cyan-600 bg-cyan-950 px-10 py-8 shadow-xl">
    <div class="mb-7">
      <h2 class="text-center text-xl font-bold text-white">TALK SPACE</h2>
    </div>
    <div class="mb-4 flex justify-around">
      <a [routerLink]="['/auth/login']" class="cursor-pointer text-center text-lg font-medium text-white"
        >Iniciar sesion</a
      >
      <a class="border-b-1 border-cyan-600 text-center text-lg font-medium text-white">Registrarse</a>
    </div>
    @if (failRegister) {
      <div class="mb-4 rounded-lg border-2 border-red-800 p-2 text-center">
        <span class="text-base font-light text-red-400">El correo ya se encuentra registrado</span>
      </div>
    }
    <form class="flex flex-col gap-6" [formGroup]="form">
      <div>
        <label class="block text-sm font-medium text-white" for="email">Nombre de Usuario</label>
        <div class="mt-1">
          <input
            class="block w-full grow rounded-lg bg-cyan-800 px-4 py-2 text-base text-white -outline-offset-2 placeholder:text-gray-300 focus:outline-2 focus:outline-cyan-600"
            type="text"
            id="username"
            formControlName="username"
          />
        </div>
        <div class="flex h-1 flex-col px-2">
          @if (usernameField.touched) {
            <!--  -->
            @if (usernameField.hasError('required')) {
              <span class="text-xs text-red-400 transition-all duration-300 ease-in"
                >El nombre de usuario es requerido</span
              >
            }
            @if (usernameField.hasError('maxlength')) {
              <span class="text-xs text-red-400 transition-all duration-300 ease-in"
                >El nombre de usuario debe tener maximo 30 caracteres</span
              >
            }
            @if (usernameField.hasError('minlength')) {
              <span class="text-xs text-red-400 transition-all duration-300 ease-in"
                >El nombre de usuario debe tener al menos 3 caracteres</span
              >
            }
          }
        </div>
      </div>

      <div>
        <label class="block text-sm font-medium text-white" for="email">Correo electronico</label>
        <div class="mt-1">
          <input
            class="block w-full grow rounded-lg bg-cyan-800 px-4 py-2 text-base text-white -outline-offset-2 placeholder:text-gray-300 focus:outline-2 focus:outline-cyan-600"
            type="email"
            id="email"
            formControlName="email"
          />
        </div>
        <div class="flex h-1 flex-col px-2">
          @if (emailField.touched) {
            <!--  -->
            @if (emailField.hasError('emailValidator')) {
              <span class="text-xs text-red-400 transition-all duration-300 ease-in">Ingrese un correo valido</span>
            }
            @if (emailField.hasError('maxlength')) {
              <span class="text-xs text-red-400 transition-all duration-300 ease-in"
                >El correo debe tener maximo 100 caracteres</span
              >
            }
            @if (emailField.hasError('required')) {
              <span class="text-xs text-red-400 transition-all duration-300 ease-in">El correo es requerido</span>
            }
          }
        </div>
      </div>
      <div class="">
        <label class="block text-sm font-medium text-white" for="password">Contraseña</label>
        <div class="mt-1">
          <input
            class="block w-full grow rounded-lg bg-cyan-800 px-4 py-2 text-base text-white -outline-offset-2 placeholder:text-gray-300 focus:outline-2 focus:outline-cyan-600"
            type="password"
            id="password"
            formControlName="password"
          />
        </div>
        <div class="flex h-1 flex-col px-2">
          @if (passwordField.touched) {
            <!--  -->
            @if (passwordField.hasError('required')) {
              <span class="text-xs text-red-400 transition-all duration-300 ease-in">La contraseña es requerida</span>
            }
            @if (passwordField.hasError('minlength')) {
              <span class="text-xs text-red-400 transition-all duration-300 ease-in"
                >La contraseña debe tener al menos 8 caracteres</span
              >
            }
          }
        </div>
      </div>
      <div class="">
        <label class="block text-sm font-medium text-white" for="password">Confirmar contraseña</label>
        <div class="mt-1">
          <input
            class="block w-full grow rounded-lg bg-cyan-800 px-4 py-2 text-base text-white -outline-offset-2 placeholder:text-gray-300 focus:outline-2 focus:outline-cyan-600"
            type="password"
            id="password"
            formControlName="confirmPassword"
          />
        </div>
        <div class="flex h-1 flex-col px-2">
          @if (confirmPasswordField.touched || confirmPasswordField.dirty) {
            <!--  -->
            @if (confirmPasswordField.hasError('required')) {
              <span class="text-xs text-red-400 transition-all duration-300 ease-in">Debe confirmar la contraseña</span>
            }
            @if (form.hasError('crossPasswordValidator')) {
              <span class="text-xs text-red-400 transition-all duration-300 ease-in">Las contraseñas no coinciden</span>
            }
          }
        </div>
      </div>
      <div>
        <button
          (click)="registerUser()"
          class="mt-2 w-full cursor-pointer rounded-lg bg-cyan-600 py-2.5 text-sm font-medium text-white shadow-xs hover:bg-cyan-700"
        >
          CREAR CUENTA
        </button>
      </div>
      <div class="text-center">
        <a [routerLink]="['/auth/login']" class="cursor-pointer text-sm text-gray-300 hover:text-white"
          >¿Ya tienes una cuenta?</a
        >
      </div>
    </form>
  </div>
</div>
